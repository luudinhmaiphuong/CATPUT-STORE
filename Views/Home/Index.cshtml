@model CatputStore.Models.HomeViewModel
@{
    ViewData["Title"] = "Trang chủ - Catput";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<style>
    /* --- CSS CHO NÚT HERO --- */
    .hero-buttons {
        display: flex;
        gap: 15px; 
    }

    .btn-hero {
        padding: 10px 30px;
        border-radius: 50px; 
        font-weight: 700;
        font-size: 16px;
        text-decoration: none;
        transition: all 0.3s ease;
        display: inline-block;
        border: 2px solid transparent;
    }

    /* Nút Mua ngay */
    .btn-hero-primary {
        background-color: #f16480;
        color: white;
        border-color: #f16480;
        box-shadow: 0 4px 10px rgba(244, 114, 182, 0.4);
    }

        .btn-hero-primary:hover {
            background-color: #f16480;
            border-color: #f16480;
            transform: translateY(-3px);
            color: white;
        }

    /* Nút Xem thêm */
    .btn-hero-outline {
        background-color: white;
        color: #f16480;
        border-color: #f16480;
    }

        .btn-hero-outline:hover {
            background-color: #fdf2f8;
            color: #db2777;
            border-color: #db2777;
            transform: translateY(-3px);
        }

    /* --- CSS DANH MỤC --- */
    .cate-section-wrapper {
        padding: 20px 0;
        width: 100%;
    }

    .cate-grid-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 15px;
    }

    .cate-item {
        display: block;
        text-decoration: none;
        transition: transform 0.2s ease;
    }

        .cate-item:hover {
            transform: translateY(-5px);
        }

        .cate-item img {
            width: 100%;
            height: auto;
            max-height: 100px;
            object-fit: contain;
            display: block;
            margin: 0 auto;
        }

    /* --- CSS SLIDER BỘ SƯU TẬP NỔI BẬT  --- */
    .collection-slider-section {
        padding: 40px 0;
        background-color: white; 
    }

    .collection-slide {
        display: block;
        border-radius: 12px;
        overflow: hidden;
        transition: box-shadow 0.3s ease;
    }
        /* Hiệu ứng zoom nhẹ khi hover */
        .collection-slide:hover {
            box-shadow: 0 10px 20px rgba(241, 100, 128, 0.3);
        }

        .collection-slide img {
            width: 100%;
            height: 510px;
            object-fit: cover;
            display: block;
        }

    /* Tùy chỉnh nút điều hướng Swiper */
    .swiper-button-next, .swiper-button-prev {
        color: #FCA1B3;
        top: 50%;
        transform: translateY(-50%);
        --swiper-navigation-size: 30px;
    }
    
    .swiper-pagination-bullet-active {
        background: #FCA1B3;
    }


    /* Responsive mobile */
    @@media (max-width: 768px) {
        .cate-grid-container {
            grid-template-columns: repeat(2, 1fr);
        }

        .hero-buttons {
            justify-content: center;
        }
        
        .collection-slide img {
            height: 250px; 
        }
    }
</style>

<div class="hero bg-white">
    <div class="container hero-container flex flex-col md:flex-row items-center gap-8">
        <div class="hero-image w-full md:w-1/2">
            <img src="~/images/Banner_Landing Page.webp" alt="Hero Banner" style="border-radius: 0px"/>
        </div>

        <div class="hero-text w-full md:w-1/2 text-center md:text-left space-y-4">
            <h2 class="text-4xl md:text-5xl font-black text-pink-500">CHÀO MỪNG BẠN ĐÃ ĐẾN VỚI CATPUT</h2>
            <p class="text-gray-600 text-sm md:text-base">
                Những món quà handmade nhỏ xinh, đáng yêu của CATPUT đang chờ bạn khám phá ♥
            </p>

            <div class="hero-buttons justify-center md:justify-start mt-6">
                <a href="@Url.Action("Index", "Shop")" class="btn-hero btn-hero-primary">Mua ngay</a>
                <a href="@Url.Action("Index", "Shop")" class="btn-hero btn-hero-outline">Xem thêm</a>
            </div>
        </div>
    </div>
</div>

<div class="cate-section-wrapper">
    <div class="cate-grid-container">
        @foreach (var cat in Model.Categories)
        {
            
            string imgName = "default.webp";
            string nameLower = cat.Name.ToLower();

            
            if (nameLower.Contains("len")) { imgName = "Danh Mục_Len Mềm.webp"; }
            else if (nameLower.Contains("đất") || nameLower.Contains("dat")) { imgName = "Danh Mục_Đất Màu.webp"; }
            else if (nameLower.Contains("cườm") || nameLower.Contains("cuom")) { imgName = "Danh Mục_Hạt Cườm.webp"; }
            else if (nameLower.Contains("make") || nameLower.Contains("4u")) { imgName = "Danh Mục_Made4U.webp"; }

      
            <a href="@Url.Action("Index", "Shop", new { categories = cat.Name })" class="cate-item" title="Xem sản phẩm @cat.Name">
                <img src="~/images/@imgName" alt="@cat.Name" />
            </a>
        }
    </div>
</div>

<div class="collection-slider-section">
    <div class="container">
        <h2 class="text-2xl font-bold mb-6 text-center text-pink-600">
            <i class="fas fa-heart" style="margin-right: 8px;"></i> CÁC BỘ SƯU TẬP ĐÁNG YÊU <i class="fas fa-heart" style="margin-left: 8px;"></i>
        </h2>
        
        <div class="swiper mySwiper">
            <div class="swiper-wrapper">

                <div class="swiper-slide">
                    <a href="@Url.Action("Index", "Shop", new { collection = "Len Mềm" })" class="collection-slide" title="Bộ sưu tập Len Mềm">
                        <img src="~/images/banner.webp" alt="Bộ sưu tập Len Mềm" />
                    </a>
                </div>

                <div class="swiper-slide">
                    <a href="@Url.Action("Index", "Shop", new { collection = "Hạt Cườm" })" class="collection-slide" title="Bộ sưu tập Hạt Cườm">
                        <img src="~/images/banner3.webp" alt="Bộ sưu tập Hạt Cườm" />
                    </a>
                </div>

                <div class="swiper-slide">
                    <a href="@Url.Action("Index", "Shop", new { collection = "Đất Màu" })" class="collection-slide" title="Bộ sưu tập Đất Màu">
                        <img src="~/images/banner2.webp" alt="Bộ sưu tập Đất Màu" />
                    </a>
                </div>

                <div class="swiper-slide">
                    <a href="@Url.Action("Index", "Shop", new { collection = "Made 4 U" })" class="collection-slide" title="Bộ sưu tập Made 4 U">
                        <img src="~/images/banner4.webp" alt="Bộ sưu tập Made 4 U" />
                    </a>
                </div>

            </div>
            <!-- Thêm nút điều hướng và phân trang -->
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Khởi tạo Swiper
        const swiper = new Swiper('.mySwiper', {
            // Cấu hình cơ bản
            loop: true, // Lặp vô hạn
            autoplay: {
                delay: 5000, // Tự động chuyển sau 5 giây
                disableOnInteraction: false,
            },

            // Phân trang (dấu chấm)
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },

            // Nút điều hướng (mũi tên)
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },

            // Chỉ hiển thị 1 slide duy nhất trên mọi kích thước màn hình
            slidesPerView: 1, 
            spaceBetween: 0, 
        });
    });
</script>


<div class="section py-10">
    <div class="container">
        <h2 class="text-2xl font-bold mb-6">Sản phẩm nổi bật</h2>
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
            @foreach (var p in Model.FeaturedProducts)
            {
                <div class="card p-2 rounded-lg hover:shadow-lg transition bg-white border border-gray-100">
                    <img src="@Url.Content(p.Image)" alt="@p.Name" style="width:100%; height:250px; object-fit:cover; border-radius:8px;" />
                    <div style="padding: 10px;">
                        <h3 class="font-bold text-gray-800" style="margin: 5px 0;">@p.Name</h3>
                        <p class="text-pink-500 font-bold">@p.Price.ToString("N0") ₫</p>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

<div class="section py-10" style="background-color:#fdf2f8;">
    <div class="container">
        <h2 class="text-2xl font-bold mb-6">Blog mới nhất</h2>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
            @foreach (var post in Model.BlogPosts)
            {
                <div class="card p-4 rounded-lg shadow-md bg-white">
                    <img src="@Url.Content(post.Image)" alt="@post.Title" style="width:100%; height:350px; object-fit:cover; border-radius:0px;" />
                    <h3 class="font-bold text-lg mt-2">@post.Title</h3>
                </div>
            }
        </div>
    </div>
</div>

<div class="section py-10">
    <div class="container">
        <h2 class="text-2xl font-bold mb-6">Đánh giá khách hàng</h2>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
            @foreach (var t in Model.Testimonials)
            {
                <div class="card p-4 rounded-lg shadow-md text-center bg-white">
                    <p class="italic text-gray-700">"@t.Content"</p>
                    <span class="font-bold mt-2 block text-pink-500">@t.Name</span>
                </div>
            }
        </div>
    </div>
</div>